<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lab 1: Introduction to R • FANR6750</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Lab 1: Introduction to R">
<meta property="og:description" content="FANR6750">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FANR6750</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2022.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/syllabus.html">
    <span class="fas fa-book"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="../articles/schedule.html">
    <span class="fas fa-calendar"></span>
     
    Schedule
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-file-pdf-o"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/lectures/00_course_intro/00_course_intro.html">Lecture 0: Course introduction</a>
    </li>
    <li>
      <a href="../articles/lectures/01_basic_stats/01_basic_stats.html">Lecture 1: Basic concepts in statistics</a>
    </li>
    <li>
      <a href="../articles/lectures/02_estimation/02_estimation.html">Lecture 2: Principles of Estimation</a>
    </li>
    <li>
      <a href="../articles/lectures/03_models/03_models.html">Lecture 3: Introduction to Statistical Modeling</a>
    </li>
    <li>
      <a href="../articles/lectures/04_NHST/04_NHST.html">Lecture 4: t-tests and Null Hypothesis Testing</a>
    </li>
    <li>
      <a href="../articles/lectures/05_anova/05_anova.html">Lecture 5: One-way ANOVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-desktop"></span>
     
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/lab01_Intro_to_R.html">Lab 1: Introduction to R</a>
    </li>
    <li>
      <a href="../articles/lab02_Intro_project_and_Rmd.html">Lab 2: Introduction to RMarkdown and Projects</a>
    </li>
    <li>
      <a href="../articles/lab03_t-tests.html">Lab 3: t-tests</a>
    </li>
    <li>
      <a href="../articles/lab04_ANOVA.html">Lab 4: ANOVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-pencil-square-o"></span>
     
    References
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/homework.html">Assignment instructions</a>
    </li>
    <li>
      <a href="../articles/projects_and_directories.html">Projects and directories</a>
    </li>
    <li>
      <a href="../articles/RMarkdown.html">R Markdown reference</a>
    </li>
  </ul>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Lab 1: Introduction to R</h1>
            <h3 data-toc-skip class="subtitle">FANR 6750: Experimental
Methods in Forestry and Natural Resources Research</h3>
                        <h4 data-toc-skip class="author">Fall 2022</h4>
            
      
      
      <div class="hidden name"><code>lab01_Intro_to_R.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="what-is-r">What is <code>R</code>?<a class="anchor" aria-label="anchor" href="#what-is-r"></a>
</h3>
<p><code>R</code> is a free, open-source programming language and
software environment for statistical computing, bioinformatics,
visualization and general computing.</p>
<p>It is based on an ever-expanding set of analytical packages that
perform specific analytical, plotting, and other programming tasks.</p>
</div>
<div class="section level3">
<h3 id="why-r">Why <code>R</code>?<a class="anchor" aria-label="anchor" href="#why-r"></a>
</h3>
<p><code>R</code> is free(!), runs on pretty much every operating
system, and has a huge user base.</p>
<p><code>R</code> is far from the only programming language for working
with data. But it is the most widely used language in the fields of
ecology, evolution, and wildlife sciences. If you plan to pursue a
career in any of these fields, proficiency in <code>R</code>is quickly
becoming a prerequisite for many jobs.</p>
<p>Even if you don’t pursue a career in one of these fields, the ability
to manipulate, analyze, and visualize data (otherwise known as <em>data
science</em>) is an extremely marketable skill in many professions right
now.</p>
</div>
<div class="section level3">
<h3 id="additional-resources-and-where-to-get-help">Additional resources and where to get help<a class="anchor" aria-label="anchor" href="#additional-resources-and-where-to-get-help"></a>
</h3>
<p>We will go over the basics of using <code>R</code> during lab
sessions but there are many good online resources for learning
<code>R</code> and getting help. A few of my favorites include:</p>
<ul>
<li><p>Tom Edward’s online <a href="http://learnr.usu.edu/" class="external-link">Learning
R</a> course (from which much of this material is borrowed)</p></li>
<li><p><a href="https://datacarpentry.org/R-ecology-lesson/" class="external-link">Data
Analysis and Visualization in R for Ecologists</a> (also from which much
of this material is borrowed)</p></li>
</ul>
<p>Of course, if you encounter error messages you don’t understand or
need help figuring out how to accomplish something in <code>R</code>,
google is your best friend (even the most experienced <code>R</code>
users use google on a daily basis). The key to finding answers on google
is asking the right questions. Because we will not spend much time on
this topic in lab, please refer to these links for advice on formulating
<code>R</code>-related questions:</p>
<ul>
<li><p><a href="https://blog.revolutionanalytics.com/2014/01/how-to-ask-for-r-help.html" class="external-link">How
to ask for R help</a></p></li>
<li><p><a href="https://datacarpentry.org/R-ecology-lesson/00-before-we-start.html#seeking_help" class="external-link">Seeking
help</a> from <em>Data Analysis and Visualization in R for
Ecologists</em></p></li>
</ul>
</div>
<div class="section level3">
<h3 id="using-r--the-very-basics">Using <code>R</code>- the very basics<a class="anchor" aria-label="anchor" href="#using-r--the-very-basics"></a>
</h3>
<p>As a statistical programming tool, one thing R is very good at is
doing math. So as a starting point, let’s treat <code>R</code> like a
fancy calculator.</p>
<p>We interact with this calculator by typing numbers and operators (+,
-, *, /) into the <code>Console</code> window.</p>
<p>Let’s try it - in the bottom left window (the Console), write the
<code>R</code>code required to add two plus two and then press
enter:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span><span class="op">+</span><span class="fl">2</span></span></code></pre></div>
<p>When you run the code, you should see the answer printed below the
window. Play with your code a bit - try changing the number and the
operators and then run the code again.</p>
</div>
<div class="section level3">
<h3 id="creating-objects">Creating objects<a class="anchor" aria-label="anchor" href="#creating-objects"></a>
</h3>
<p>We can run <code>R</code> like a calculator by typing equations
directly into the console and then printing the answer. But usually we
don’t want to just do a calculation and see the answer. Instead, we
assign <em>values</em> to <em>objects</em>. That object is then saved in
<code>R</code>’s memory which allows us to use that object later in our
analysis.</p>
<p>This might seem a bit confusing if you are new to programming so
let’s try it. The following code creates an <em>object</em> called
<code>x</code> and <em>assigns</em> it a value of <code>3</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">3</span></span></code></pre></div>
<p>The operator <code>&lt;-</code> is how we do assignments in
<code>R</code>. Whatever is to the left of <code>&lt;-</code> is the
object’s name and whatever is to the right is the value. As we will see
later, objects can be much more complex than simply a number but for
now, we’ll keep it simple.</p>
<hr>
<p>You try it - change the code to create an object called
<code>new.x</code>. Instead of assigning <code>new.x</code> a number,
give it a calculation, for example <code>25/5</code>. What do you think
the value of <code>new.x</code> is?</p>
<hr>
</div>
<div class="section level3">
<h3 id="working-with-objects">Working with objects<a class="anchor" aria-label="anchor" href="#working-with-objects"></a>
</h3>
<p>In the exercise above, you may have noticed that after running the
code, <code>R</code> did not print anything. That is because we simply
told <code>R</code> to create the object (in the top right window, if
you click on the <code>Environment</code> tab, you should see
<code>x</code> and <code>new.x</code>). Now that it is stored in
<code>R</code>’s memory, we can do a lot of things with it. For one, we
can print it to see the value. To do that, we simply type the name of
the object and run the code:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new.x</span> <span class="op">&lt;-</span> <span class="fl">25</span><span class="op">/</span><span class="fl">5</span></span>
<span><span class="va">new.x</span></span>
<span><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>We can also use objects to create new objects. <em>What do you think
the following code does?</em></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">*</span><span class="fl">4</span></span></code></pre></div>
<p>After running it, print the new object <code>y</code> to see its
value. Were you right?</p>
</div>
<div class="section level3">
<h3 id="naming-objects">Naming objects<a class="anchor" aria-label="anchor" href="#naming-objects"></a>
</h3>
<p>It’s a good idea to give objects names that tell you something about
what the object represents. Names can be as long as you want them to be
but should not have spaces (also remember long names require more typing
so brevity is a good rule of thumb). Names also cannot start with a
number and <code>R</code> is case-sensitive so, for example,
<code>Apple</code> is <strong>not</strong> the same as
<code>apple</code>.</p>
</div>
<div class="section level3">
<h3 id="using-scripts-instead-of-the-console">Using scripts instead of the console<a class="anchor" aria-label="anchor" href="#using-scripts-instead-of-the-console"></a>
</h3>
<p>The console is useful for doing simple tasks but as our analyses
become more complicated, the console is not very efficient. What if you
need to go back and change a line of code? What if you want to show your
code to someone else to get help?</p>
<p>Instead of using the console, most of our work will be done using
scripts. Scripts are special files that us to write, save, and run many
lines of code. Scripts can be saved so you can work on them later or
send them to collaborators.</p>
<p>To create a script, click
<code>File -&gt; New File -&gt; R Script</code>. This new file should
show up in a new window.</p>
</div>
<div class="section level3">
<h3 id="commenting-your-code">Commenting your code<a class="anchor" aria-label="anchor" href="#commenting-your-code"></a>
</h3>
<p><code>R</code> will ignore any code that follows a <code>#</code>.
This is <em>very</em> useful for making your code more readable for both
yourself and others. Use comments to remind yourself what a newly
created object is, to explain what a line of code does, to leave
yourself a reminder for later, etc. For example, in the previous code,
it might be a good idea to use comments to define what each object
represents:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n1</span> <span class="op">&lt;-</span> <span class="fl">44</span>     <span class="co"># Number of individuals captured on first occasion</span></span>
<span></span>
<span><span class="va">n2</span> <span class="op">&lt;-</span> <span class="fl">32</span>     <span class="co"># Number of individuals captured on second occasion</span></span>
<span>  </span>
<span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fl">15</span>     <span class="co"># Number of previously marked individuals captured on second occasion</span></span></code></pre></div>
<p>Notice that when you run this code, <code>R</code> ignores the
comments.</p>
</div>
<div class="section level2">
<h2 id="vectors">Vectors<a class="anchor" aria-label="anchor" href="#vectors"></a>
</h2>
<p>So far, we have only been working with objects that store a single
number. However, often it is more convenient to store a string of
numbers as a single object. In <code>R</code>, these strings are called
<em>vectors</em> and they are usually created by enclosing the string
between <code>c(</code> and <code>)</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] 3 5 2 5</span></span></code></pre></div>
<p>You can also sequences of consecutive numbers in a few different
ways:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span></span>
<span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">10</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">x2</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>The <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code> function is very flexible and useful so if you
are not familiar with it, be sure to look at the help page to better
understand how to use it.</p>
<p>Another useful function for creating vectors is <code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep()</a></code>,
which repeats values of a vector:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">x2</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>or:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">x2</span>, each <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  1  2  2  3  3  4  4  5  5  6  6  7  7  8  8  9  9 10 10</span></span></code></pre></div>
<p>Be sure you notice the difference between using the
<code>times</code> argument vs the <code>each</code> argument!</p>
<p>A vector can also contain characters (though you cannot mix numbers
and characters in the same vector!):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">occasions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Occasion1"</span>, <span class="st">"Occasion2"</span>, <span class="st">"Occasion3"</span><span class="op">)</span></span>
<span><span class="va">occasions</span></span>
<span><span class="co">#&gt; [1] "Occasion1" "Occasion2" "Occasion3"</span></span></code></pre></div>
<p>The quotes around “Occasion1”, “Occasion2”, and “Occasion3” are
critical. Without the quotes, <code>R</code> will assume there are
objects called <code>Occasion1</code>, <code>Occasion2</code> and
<code>Occasion3</code>. As these objects don’t exist in <code>R</code>’s
memory, there will be an error message.</p>
<p>Vectors can be any length (including 1. In fact, the numeric objects
we’ve been working with are just vectors with length 1). The function
<code><a href="https://rdrr.io/r/base/length.html" class="external-link">length()</a></code> tells you how long a vector is:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>The function <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> indicates the class (the type of
element) of an object:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">occasions</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "character"</span></span></code></pre></div>
<p>What is the class of a vector with both numeric and characters
entries? Hint:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mixed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="st">"3"</span>, <span class="st">"4"</span><span class="op">)</span></span></code></pre></div>
<p>You can also use the <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> function to add other elements
to your vector:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span>,<span class="fl">8</span>,<span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>Vectors are one of the many data structures that <code>R</code> uses.
Other important ones are lists (<code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>), matrices
(<code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix()</a></code>), data frames (<code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>),
factors (<code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code>) and arrays (<code><a href="https://rdrr.io/r/base/array.html" class="external-link">array()</a></code>). We
will learn about each of those data structures as we encounter them in
lab exercises.</p>
<div class="section level3">
<h3 id="vectorized-arithmetic">Vectorized arithmetic<a class="anchor" aria-label="anchor" href="#vectorized-arithmetic"></a>
</h3>
<p>One of the most useful properties of vectors in <code>R</code> is
that we can use them to simplify basic arithmetic operations that need
to be done on multiple observations. For example, consider the following
data on wing chord (a measure of wing length) and body mass of
Swainson’s thrushes (<em>Catharus ustulatus</em>):</p>
<div class="figure" style="text-align: c">
<img src="https://upload.wikimedia.org/wikipedia/commons/1/1e/Swainson%27s_Thrush_0777vv.jpg" alt="Swainson's Thrush. Image courtesy of VJAnderson via Wikicommons" width="50%"><p class="caption">
Swainson’s Thrush. Image courtesy of VJAnderson via Wikicommons
</p>
</div>
<table class="table">
<thead><tr>
<th style="text-align:center;">
Individual
</th>
<th style="text-align:center;">
Mass (g)
</th>
<th style="text-align:center;">
Wing chord (mm)
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
36.2
</td>
<td style="text-align:center;">
95.1
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
34.6
</td>
<td style="text-align:center;">
88.4
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
31.0
</td>
<td style="text-align:center;">
97.9
</td>
</tr>
<tr>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
31.8
</td>
<td style="text-align:center;">
96.8
</td>
</tr>
<tr>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
29.4
</td>
<td style="text-align:center;">
92.3
</td>
</tr>
<tr>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
32.0
</td>
<td style="text-align:center;">
90.6
</td>
</tr>
</tbody>
</table>
<p>Perhaps we want to derive the body condition of each individual based
on these measures. One common metric of body condition used by
ornithologists is <span class="math inline">\(\frac{mass}{size}\)</span>, where wing chord is
used as a proxy for body size. We <em>could</em> calculate body
condition for each individual:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cond1</span> <span class="op">&lt;-</span> <span class="fl">36.2</span><span class="op">/</span><span class="fl">95.1</span> <span class="co"># Body condition of the first individual</span></span>
<span></span>
<span><span class="va">cond2</span> <span class="op">&lt;-</span> <span class="fl">34.6</span><span class="op">/</span><span class="fl">88.4</span> <span class="co"># Body condition of the second individual</span></span></code></pre></div>
<p>But that is time consuming and error prone. Luckily, <code>R</code>
will <em>vectorize</em> basic arithmetic:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mass</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">36.2</span>, <span class="fl">34.6</span>, <span class="fl">31.0</span>, <span class="fl">31.8</span>, <span class="fl">29.4</span>, <span class="fl">32.0</span><span class="op">)</span></span>
<span><span class="va">wing</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">95.1</span>, <span class="fl">88.4</span>, <span class="fl">97.9</span>, <span class="fl">96.8</span>, <span class="fl">92.3</span>, <span class="fl">90.6</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cond</span> <span class="op">&lt;-</span> <span class="va">mass</span><span class="op">/</span><span class="va">wing</span></span>
<span><span class="va">cond</span></span>
<span><span class="co">#&gt; [1] 0.3807 0.3914 0.3166 0.3285 0.3185 0.3532</span></span></code></pre></div>
<p>As you can see, when we divide one vector by another, <code>R</code>
divides the first element of the first vector by the first element of
the second vector, etc. and returns a vector.</p>
</div>
<div class="section level3">
<h3 id="built-in-functions">Built-in functions<a class="anchor" aria-label="anchor" href="#built-in-functions"></a>
</h3>
<p>The power of <code>R</code> is most apparent in the large number of
built-in functions that are available for users.</p>
<p>Functions are small bits of code that perform a specific task. Most
functions accept one or more inputs called arguments and return a value
or a new object.</p>
<p>Let’s say we have the following data on the number of ticks recorded
on 5 dogs:</p>
<table class="table">
<thead><tr>
<th style="text-align:center;">
Individual
</th>
<th style="text-align:center;">
Ticks
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
7
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
2
</td>
</tr>
<tr>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
3
</td>
</tr>
<tr>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
150
</td>
</tr>
</tbody>
</table>
<p>What is the total number of ticks recorded in the study? For that, we
can use the built-in <code><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum()</a></code> function:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ticks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">150</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ticks</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 166</span></span></code></pre></div>
<p>What is the mean number of ticks per dog?</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ticks</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 33.2</span></span></code></pre></div>
<p>And the variance?</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var</a></span><span class="op">(</span><span class="va">ticks</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4267</span></span></code></pre></div>
<div class="section level4">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h4>
<p>Every function takes a different set of arguments and in many cases
you will need to look up what those arguments are. The best way to get
help for a specific function is to type a question mark followed by the
function name, which will bring up a help page in the bottom right
panel. For example, the <code>round</code> function rounds a number to a
specified number of decimal places. This is a useful function when we
don’t want to print a really large number of digits:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">round</span></span></code></pre></div>
<p>So we see <code>round</code> takes an argument called <code>x</code>,
which is the number we want to round, and the number of
<code>digits</code> we want to round to. If you provide the arguments in
the exact same order as they are defined you don’t have to name them.
For example, :</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ticks</span><span class="op">)</span></span>
<span><span class="va">y</span></span>
<span><span class="co">#&gt; [1] 33.2</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">y</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 33</span></span></code></pre></div>
<p>If you do name the arguments, you can switch their order:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">0</span>, x <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 33</span></span></code></pre></div>
<p>Although you don’t have to name arguments, it’s a good idea to get in
the habit of naming them. This will make you code easier to read, will
help avoid mistakes that can occur when you don’t put the arguments in
the correct order, and makes it easier to trouble shoot code that
doesn’t do what you expect it to do.</p>
</div>
</div>
<div class="section level3">
<h3 id="indexing-vectors">Indexing vectors<a class="anchor" aria-label="anchor" href="#indexing-vectors"></a>
</h3>
<p>Often you will need to work with just a subset of a vector. For
example, maybe you have a vector of plant biomass measured along
transects but you only need</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">25</span><span class="op">)</span></span>
<span><span class="va">y</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 2 8</span></span></code></pre></div>
<p>Notice that to index certain elements of the vector <code>y</code>,
we use square brackets. Inside those brackets, we provided <em>an
integer vector</em>, where each integer refers to the position of
elements in the first vector. The indexing vector can be any length
(including 1).</p>
<p>We can also index vectors using <em>a logical vector</em>. A logical
vector is a special type of object that contains values of
<code>TRUE</code> or <code>FALSE</code>. When using a logical vector for
indexing, the logical vector indicates which elements to keep
(<code>TRUE</code>) or remove (<code>FALSE</code>) from the original
vector. For this reason, the indexing vector must be same length as the
focal vector; i.e., <code>length(a) == length(v)</code></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Logical vector (which elements of y are greater than 4?)</span></span>
<span><span class="va">y</span> <span class="op">&gt;</span> <span class="fl">4</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE  TRUE</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Indexing using a logical vector (keep elements 3 and 5)</span></span>
<span><span class="va">y</span><span class="op">[</span><span class="va">y</span> <span class="op">&gt;</span> <span class="fl">4</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1]  8 25</span></span></code></pre></div>
<p>We can also use indexing to remove elements from a vector:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remove the second element</span></span>
<span><span class="va">y</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1]  2  8  4 25</span></span></code></pre></div>
<p>or to rearrange the order of a vector</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 25  4  8  4  2</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="packages">Packages<a class="anchor" aria-label="anchor" href="#packages"></a>
</h2>
<p>One of <code>R</code>’s primary strengths is the large number of
<em>packages</em> available to users. Packages are units of shareable
code and data that have been created by other <code>R</code> users. We
have already seen the built-in functions that <code>R</code> comes with.
Packages allow users to share lots and lots of other functions that
serve specific purposes. Packages also allow users to share <a href="https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html" class="external-link">data
sets</a>. There are packages for cleaning data, visualizing data, making
maps, fitting specialized models, and basically anything else you can
think of.</p>
<p>Accessing the code in a package first requires installing the
package. This only needs to be done once per computer and is usually
done using the <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> function:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   There are binary versions available but the source versions are later:</span></span>
<span><span class="co">#&gt;          binary source needs_compilation</span></span>
<span><span class="co">#&gt; gert      1.6.0  1.7.0              TRUE</span></span>
<span><span class="co">#&gt; usethis   2.1.5  2.1.6             FALSE</span></span>
<span><span class="co">#&gt; devtools  2.4.3  2.4.4             FALSE</span></span></code></pre></div>
<p>Note that the name of the package (in this case
<code>devtools</code>) must be in quotation marks. Packages installed
using <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> are stored in a centralized
repository called CRAN (Comprehensive R Archive Network). Once
<code>devtools</code> (or any package) is installed on your computer,
you do not need to re-run the <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> function
unless you re-install/update <code>R</code> or need to update the
package to a newer version.</p>
<p>Installing a package does not automatically make the functions from
that package available in a given <code>R</code> session. To tell
<code>R</code> where the functions come from, you must <em>load</em> the
package using the <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> function:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span></code></pre></div>
<p>Unlike <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code>, <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> must
be re-run each time you open <code>R</code>. Most people include a few
calls to <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> at the beginning of each script so that
all packages needed to run the code are loaded at the beginning of the
script.</p>
<p>Occasionally, some packages are stored in other places (e.g.,
github). These packages can be installed using different functions. For
example, I created a package for this course that contains small data
sets we will use in labs throughout the semester. The package is stored
on github and can be installed by running:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"RushingLab/FANR6750"</span><span class="op">)</span></span>
<span><span class="co">#&gt; sf (1.0-2 -&gt; 1.0-8) [CRAN]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   There is a binary version available but the source version is later:</span></span>
<span><span class="co">#&gt;    binary source needs_compilation</span></span>
<span><span class="co">#&gt; sf  1.0-7  1.0-8              TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * checking for file ‘/private/var/folders/86/zwkzbn9s0x37lq6_st9zs_780000gn/T/RtmprRlsl5/remotes10b0a4485c65d/RushingLab-FANR6750-d17eec5/DESCRIPTION’ ... OK</span></span>
<span><span class="co">#&gt; * preparing ‘FANR6750’:</span></span>
<span><span class="co">#&gt; * checking DESCRIPTION meta-information ... OK</span></span>
<span><span class="co">#&gt; * checking for LF line-endings in source and make files and shell scripts</span></span>
<span><span class="co">#&gt; * checking for empty or unneeded directories</span></span>
<span><span class="co">#&gt; * building ‘FANR6750_2022.1.0.tar.gz’</span></span></code></pre></div>
<p>Note that the <code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github()</a></code> function is from the
<code>devtools</code> package so you need to run
<code><a href="https://devtools.r-lib.org/" class="external-link">library(devtools)</a></code> before you install the package. Make sure
you install the <code>FANR6750</code> package now so you have access to
the data sets.</p>
</div>
<div class="section level2">
<h2 id="data-frames">Data frames<a class="anchor" aria-label="anchor" href="#data-frames"></a>
</h2>
<p>So far, we have only discussed one particular class of <code>R</code>
object - vectors. Vectors hold a string of values as a single object.
Although useful for many applications, vectors are limited in their
ability to store multiple types of data (numeric and character).</p>
<p>This is where data frames become useful. Perhaps the most common type
data object you will use in <code>R</code> is the data frame. Data
frames are tabular objects (rows and columns) similar in structure to
spreadsheets (think Excel or GoogleSheets). In effect, data frames store
multiple vectors - each column of the data frame is a vector. As such,
each column can be a different class (numeric, character, etc.) but all
values within a column must be the same class. Just as the first row of
an Excel spreadsheet can be a list of column names, each column in a
data frame has a name that (hopefully) provides information about what
the values in that column represent.</p>
<p>To see how data frames work, let’s load a data frame called
<code>jayData</code> that comes with the <code>FANR6750</code>
package.</p>
<hr>
<p>Note - As discussed above, if you want to access function or data
sets that come with packages, you first need to <em>load</em> the
package in your current working environment. To do that, use the
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> function, with the unquoted package name as the
argument. Once loaded, all of the package’s functions are available to
use.</p>
<p>Alternatively, you can access functions from a given package without
loading the package using <code>package.name::function.name()</code>.
For example, if you want to use the <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> function from
the <code>dplyr</code> package, you could type
<code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code>. Although less commonly used, this method
has a few advantages:</p>
<ol style="list-style-type: decimal">
<li><p>Sometimes different packages have functions with the same names.
<code>R</code> will default to using the function from the package that
was loaded last. For example, the <code>raster</code> package also has a
function called <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> so if you load <code>dplyr</code>
first (using <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>and then <code>raster</code>,
<code>R</code> will default to using <code>raster</code>’s
<code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> function, which could cause problems.</p></li>
<li><p>If you share your code with others, the <code>::</code> method
makes it clear which packages are being use for which functions. That
additional clarity is often helpful and is the reason I will often use
<code>::</code> in this course.</p></li>
</ol>
<hr>
<p>To get a quick idea of what information this data frame contains, we
can use the <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code> and <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail()</a></code> functions, which
will print the first and last 6 rows of the data frame:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">FANR6750</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"jayData"</span><span class="op">)</span> <span class="co"># the data() function loads data sets the come with packages</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">jayData</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 1 258637 3764124       423   0.00      0.02     Oak   Med   34</span></span>
<span><span class="co">#&gt; 2 261937 3769224       506   0.10      0.45     Oak   Med   38</span></span>
<span><span class="co">#&gt; 3 246337 3764124       859   0.00      0.26     Oak  High   40</span></span>
<span><span class="co">#&gt; 4 239437 3763524      1508   0.02      0.03    Pine   Med   43</span></span>
<span><span class="co">#&gt; 5 239437 3767724       483   0.26      0.37     Oak   Med   36</span></span>
<span><span class="co">#&gt; 6 236437 3769524       830   0.00      0.01     Oak   Low   39</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">jayData</span><span class="op">)</span></span>
<span><span class="co">#&gt;          x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 95  258937 3767124       804   0.19      0.68     Oak   Med   40</span></span>
<span><span class="co">#&gt; 96  259837 3768024       210   0.00      0.00     Oak   Low   33</span></span>
<span><span class="co">#&gt; 97  249337 3769524       467   0.70      0.09    Pine   Med   36</span></span>
<span><span class="co">#&gt; 98  262237 3767424      1318   0.02      0.23     Oak   Med   44</span></span>
<span><span class="co">#&gt; 99  261937 3770124       354   0.00      0.05    Bare   Low   33</span></span>
<span><span class="co">#&gt; 100 247837 3769524       686   0.10      0.32     Oak   Med   40</span></span></code></pre></div>
<p>We can see that <code>jayData</code> contains eight columns:
<code>x</code>, <code>y</code>, <code>elevation</code>,
<code>forest</code>, <code>chaparral</code>, <code>habitat</code>,
<code>seeds</code>, and <code>jays</code>. We’ll learn more about what
each of these columns represents later in the semester, though just like
functions, many data sets have help pages also and you can access those
help pages using <code>?jayData</code>. Several other useful functions
for investigating the structure of data frames are <code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code>
and <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code></p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">jayData</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    100 obs. of  8 variables:</span></span>
<span><span class="co">#&gt;  $ x        : num  258637 261937 246337 239437 239437 ...</span></span>
<span><span class="co">#&gt;  $ y        : num  3764124 3769224 3764124 3763524 3767724 ...</span></span>
<span><span class="co">#&gt;  $ elevation: int  423 506 859 1508 483 830 457 304 834 164 ...</span></span>
<span><span class="co">#&gt;  $ forest   : num  0 0.1 0 0.02 0.26 0 0.02 0 0.54 0 ...</span></span>
<span><span class="co">#&gt;  $ chaparral: num  0.02 0.45 0.26 0.03 0.37 0.01 0.22 0.09 0.21 0.11 ...</span></span>
<span><span class="co">#&gt;  $ habitat  : chr  "Oak" "Oak" "Oak" "Pine" ...</span></span>
<span><span class="co">#&gt;  $ seeds    : chr  "Med" "Med" "High" "Med" ...</span></span>
<span><span class="co">#&gt;  $ jays     : int  34 38 40 43 36 39 38 35 41 33 ...</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">jayData</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x                y             elevation        forest      </span></span>
<span><span class="co">#&gt;  Min.   :230737   Min.   :3761424   Min.   :  12   Min.   :0.0000  </span></span>
<span><span class="co">#&gt;  1st Qu.:238762   1st Qu.:3765324   1st Qu.: 365   1st Qu.:0.0000  </span></span>
<span><span class="co">#&gt;  Median :245587   Median :3766824   Median : 548   Median :0.0000  </span></span>
<span><span class="co">#&gt;  Mean   :246949   Mean   :3767130   Mean   : 659   Mean   :0.0553  </span></span>
<span><span class="co">#&gt;  3rd Qu.:254662   3rd Qu.:3768699   3rd Qu.: 929   3rd Qu.:0.0300  </span></span>
<span><span class="co">#&gt;  Max.   :266137   Max.   :3773724   Max.   :1537   Max.   :0.7000  </span></span>
<span><span class="co">#&gt;    chaparral       habitat             seeds                jays     </span></span>
<span><span class="co">#&gt;  Min.   :0.000   Length:100         Length:100         Min.   :30.0  </span></span>
<span><span class="co">#&gt;  1st Qu.:0.080   Class :character   Class :character   1st Qu.:36.0  </span></span>
<span><span class="co">#&gt;  Median :0.210   Mode  :character   Mode  :character   Median :38.0  </span></span>
<span><span class="co">#&gt;  Mean   :0.241                                         Mean   :38.6  </span></span>
<span><span class="co">#&gt;  3rd Qu.:0.370                                         3rd Qu.:41.0  </span></span>
<span><span class="co">#&gt;  Max.   :0.850                                         Max.   :48.0</span></span></code></pre></div>
<p><code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code> tells us about the structure of the data frame,
for example <code>x</code> and <code>y</code> are numeric columns and
<code>habitat</code> contains character strings. <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>
provides some simple summary statistics for each variable.</p>
<p>Another useful function is <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow()</a></code>, which tells us now
many rows are in the data frame (similar to <code><a href="https://rdrr.io/r/base/length.html" class="external-link">length()</a></code> for
vectors):</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">jayData</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 100</span></span></code></pre></div>
<div class="section level4">
<h4 id="subsetting-data-frames">Subsetting data frames<a class="anchor" aria-label="anchor" href="#subsetting-data-frames"></a>
</h4>
<p>As you will see shortly, one of the most common tasks when working
with data frames is creating new objects from <em>parts</em> of the full
data frame. This task involves subsetting the data frame - selecting
specific rows and columns. There are <strong>many</strong> ways of
subsetting data frames in <code>R</code>, too many to discuss so we will
only learn about a few.</p>
<div class="section level5">
<h5 id="selecting-columns">Selecting columns<a class="anchor" aria-label="anchor" href="#selecting-columns"></a>
</h5>
<p>First, we may want to select a subset of all of the columns in a big
data frame. Data frames are essentially tables, which means we can
reference both rows and columns by their number:
<code>data.frame[row#, column#]</code>. The row and column numbers have
to put inside of square brackets following the name of the data frame
object. The row number always comes first and the column number second.
If you want to select all rows of a specific column, you just leave the
<code>row#</code> blank. For example, if we wanted a vector containing
the number of jays at each survey location:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jayData</span><span class="op">[</span>,<span class="fl">8</span><span class="op">]</span></span>
<span><span class="co">#&gt;   [1] 34 38 40 43 36 39 38 35 41 33 34 37 37 38 42 43 39 37 38 40 37 35 37 44 45</span></span>
<span><span class="co">#&gt;  [26] 37 36 34 48 43 39 41 45 38 35 38 39 38 41 38 36 43 38 36 33 41 38 30 39 36</span></span>
<span><span class="co">#&gt;  [51] 39 36 34 30 38 37 44 36 36 40 44 48 37 41 42 30 41 39 43 30 42 42 41 38 36</span></span>
<span><span class="co">#&gt;  [76] 37 33 44 38 35 45 41 35 38 37 45 33 42 34 45 40 42 40 44 40 33 36 44 33 40</span></span></code></pre></div>
<p>We can also select columns using <code>data.frame$column</code>
(where <code>data.frame</code> is the name of the data frame object and
<code>column</code> is the name of the column). For example,</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jayData</span><span class="op">$</span><span class="va">jays</span></span>
<span><span class="co">#&gt;   [1] 34 38 40 43 36 39 38 35 41 33 34 37 37 38 42 43 39 37 38 40 37 35 37 44 45</span></span>
<span><span class="co">#&gt;  [26] 37 36 34 48 43 39 41 45 38 35 38 39 38 41 38 36 43 38 36 33 41 38 30 39 36</span></span>
<span><span class="co">#&gt;  [51] 39 36 34 30 38 37 44 36 36 40 44 48 37 41 42 30 41 39 43 30 42 42 41 38 36</span></span>
<span><span class="co">#&gt;  [76] 37 33 44 38 35 45 41 35 38 37 45 33 42 34 45 40 42 40 44 40 33 36 44 33 40</span></span></code></pre></div>
<p>Notice that if you hit <code>tab</code> after you type the
<code>$</code>, RStudio will bring up all of the columns and you can use
the up or down buttons to find the one you want.</p>
<p>Sometimes you may want to select more than one column. The easiest
way to do that is to use the <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code> function in the
<code>dplyr</code> package:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>.data <span class="op">=</span> <span class="va">jayData</span>, <span class="va">x</span>, <span class="va">y</span>, <span class="va">jays</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x       y jays</span></span>
<span><span class="co">#&gt; 1 258637 3764124   34</span></span>
<span><span class="co">#&gt; 2 261937 3769224   38</span></span>
<span><span class="co">#&gt; 3 246337 3764124   40</span></span>
<span><span class="co">#&gt; 4 239437 3763524   43</span></span>
<span><span class="co">#&gt; 5 239437 3767724   36</span></span>
<span><span class="co">#&gt; 6 236437 3769524   39</span></span></code></pre></div>
<p>Notice that select requires us to first provide the data frame object
(<code>.data = jayData</code>) and then we provide the column names
(unquoted!) we want to select. You can also use select to remove
columns:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>.data <span class="op">=</span> <span class="va">jayData</span>, <span class="op">-</span><span class="va">seeds</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x       y elevation forest chaparral habitat jays</span></span>
<span><span class="co">#&gt; 1 258637 3764124       423   0.00      0.02     Oak   34</span></span>
<span><span class="co">#&gt; 2 261937 3769224       506   0.10      0.45     Oak   38</span></span>
<span><span class="co">#&gt; 3 246337 3764124       859   0.00      0.26     Oak   40</span></span>
<span><span class="co">#&gt; 4 239437 3763524      1508   0.02      0.03    Pine   43</span></span>
<span><span class="co">#&gt; 5 239437 3767724       483   0.26      0.37     Oak   36</span></span>
<span><span class="co">#&gt; 6 236437 3769524       830   0.00      0.01     Oak   39</span></span></code></pre></div>
<hr>
<p>It’s important to realize that even though there are different ways
to accomplish the same general task (in this case, “subset columns of a
data frame”), those methods will sometimes differ in subtle but
important ways.</p>
<p>For example, what type of object did the
<code>data.frame[,col#]</code> and <code>data.frame$column.name</code>
options return? What type of object did
<code>select(data.frame, col1, col2)</code> return? Those are very
different results and knowing what the output will be can be useful when
deciding the best way to accomplish your task.</p>
<hr>
</div>
<div class="section level5">
<h5 id="filtering-rows">Filtering rows<a class="anchor" aria-label="anchor" href="#filtering-rows"></a>
</h5>
<p>To select specific rows, we can use the <code>row#</code> method we
learned above, this time leaving the columns blank:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jayData</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span></span>
<span><span class="co">#&gt;        x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 1 258637 3764124       423      0      0.02     Oak   Med   34</span></span></code></pre></div>
<p>If we want more than one row, we just put in a vector with all of the
rows we want:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jayData</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">]</span></span>
<span><span class="co">#&gt;        x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 1 258637 3764124       423    0.0      0.02     Oak   Med   34</span></span>
<span><span class="co">#&gt; 2 261937 3769224       506    0.1      0.45     Oak   Med   38</span></span>
<span></span>
<span><span class="va">jayData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">30</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="co">#&gt;         x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 1  258637 3764124       423      0      0.02     Oak   Med   34</span></span>
<span><span class="co">#&gt; 30 259537 3765924      1419      0      0.07    Pine   Med   43</span></span></code></pre></div>
<p>Note that we can use the square brackets to also subset vectors, in
which case we don’t need the comma as long as you tell <code>R</code>
which column you want first:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jayData</span><span class="op">$</span><span class="va">jays</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 34</span></span></code></pre></div>
<p>Sometimes, we may not know the specific row number(s) we want but we
do know the value of one of the columns we want to keep. Using the
<code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> function in the <code>dplyr</code> package allows
us to filter rows based on the value of one of the variables. For
example, if we want just surveys that were conducted in oak habitat, we
use:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">jayData</span>, <span class="va">habitat</span> <span class="op">==</span> <span class="st">"Oak"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 1 258637 3764124       423   0.00      0.02     Oak   Med   34</span></span>
<span><span class="co">#&gt; 2 261937 3769224       506   0.10      0.45     Oak   Med   38</span></span>
<span><span class="co">#&gt; 3 246337 3764124       859   0.00      0.26     Oak  High   40</span></span>
<span><span class="co">#&gt; 4 239437 3767724       483   0.26      0.37     Oak   Med   36</span></span>
<span><span class="co">#&gt; 5 236437 3769524       830   0.00      0.01     Oak   Low   39</span></span>
<span><span class="co">#&gt; 6 263737 3766524       457   0.02      0.22     Oak   Med   38</span></span></code></pre></div>
<p>Notice the need for two equals signs (<code>==</code>) when telling
<code>R</code> we want the row where <code>habitat</code> equals
<code>Oak</code>. Filter makes it very easy to select multiple rows
using operators like greater than, less than, etc.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">jayData</span>, <span class="va">elevation</span> <span class="op">&gt;</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 1 239437 3763524      1508   0.02      0.03    Pine   Med   43</span></span>
<span><span class="co">#&gt; 2 261637 3768324      1276   0.02      0.36     Oak  High   44</span></span>
<span><span class="co">#&gt; 3 248737 3766524      1024   0.03      0.41    Pine   Low   45</span></span>
<span><span class="co">#&gt; 4 255937 3765024      1400   0.02      0.45     Oak  High   48</span></span>
<span><span class="co">#&gt; 5 259537 3765924      1419   0.00      0.07    Pine   Med   43</span></span>
<span><span class="co">#&gt; 6 245737 3762924      1004   0.02      0.32     Oak   Low   41</span></span></code></pre></div>
<p>or a slightly more complicated example:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">jayData</span>, <span class="va">elevation</span> <span class="op">&lt;</span> <span class="fl">1000</span> <span class="op">&amp;</span> <span class="va">habitat</span> <span class="op">==</span> <span class="st">"Oak"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x       y elevation forest chaparral habitat seeds jays</span></span>
<span><span class="co">#&gt; 1 258637 3764124       423   0.00      0.02     Oak   Med   34</span></span>
<span><span class="co">#&gt; 2 261937 3769224       506   0.10      0.45     Oak   Med   38</span></span>
<span><span class="co">#&gt; 3 246337 3764124       859   0.00      0.26     Oak  High   40</span></span>
<span><span class="co">#&gt; 4 239437 3767724       483   0.26      0.37     Oak   Med   36</span></span>
<span><span class="co">#&gt; 5 236437 3769524       830   0.00      0.01     Oak   Low   39</span></span>
<span><span class="co">#&gt; 6 263737 3766524       457   0.02      0.22     Oak   Med   38</span></span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Clark Rushing.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
